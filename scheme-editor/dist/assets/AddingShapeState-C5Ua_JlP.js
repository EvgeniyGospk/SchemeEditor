var d=Object.defineProperty;var h=(a,e,t)=>e in a?d(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var p=(a,e,t)=>h(a,typeof e!="symbol"?e+"":e,t);import{CreateShapeCommand as l}from"./CreateShapeCommand-iZFtp45h.js";import{DefaultState as c}from"./DefaultState-CS_Iqjw4.js";import{L as i}from"./index-DLCka8Hw.js";import"./DeleteElementCommand-BFpIdMFb.js";class w{constructor(){p(this,"shapeType","");p(this,"defaultProperties",{});this.shapeType="",this.defaultProperties={}}getStateName(){return"AddingShapeState"}onEnterState(e,t){if(t?(this.shapeType=t.shapeType,this.defaultProperties=t.defaultProperties,i.info(`AddingShapeState: Entered for shape type ${this.shapeType}`)):i.error("AddingShapeState: No args provided"),e.getDependencies()&&typeof window<"u"&&window.__appController){const n=window.__appController.getKonvaStage();if(n){const o=n.container();o&&(o.style.cursor="crosshair")}}}onExitState(){if(i.info("AddingShapeState: Exited"),typeof window<"u"&&window.__appController){const e=window.__appController.getKonvaStage();if(e){const t=e.container();t&&(t.style.cursor="default")}}}handleMouseDown(e,t){const{stageX:s,stageY:n}=e,o=t.getDependencies(),r=new l(o.scheme,o.shapeFactory,this.shapeType,{...this.defaultProperties,x:s,y:n});o.commandManager.executeCommand(r),i.info(`AddingShapeState: Created ${this.shapeType} at (${s}, ${n})`),t.setState(new c)}handleMouseMove(){}handleMouseUp(){}handleDoubleClick(){}handleKeyDown(){}handleKeyUp(){}}export{w as AddingShapeState};
